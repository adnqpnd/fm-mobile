<ion-view view-title="Edit Account">
 <ion-nav-bar class="bar bar-header bar-dark uppercase lightfont">
      <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
        </button>
      </ion-nav-buttons>
    </ion-nav-bar>
  <ion-content>

  <div class="card space">

    <div class="list list-inset">

      <h3 class="title" align="center"><i class="icon ion-edit"></i>&nbsp;&nbsp;EDIT ACCOUNT INFORMATION</h3>


      <!-- username -->
      <div class="itemedit item-text-wrap">

        <div class="list row" ng-hide="editForm === 1">


        <label class = "item item-input uppercase col">

          Username:</label
            > 
        <div class="input-label col col-50 wf">
            {{user.username}}
         </div>
       
            <button class="button button-small button-edit uppercase" ng-click="showEditForm(1)"><i class="icon ion-edit"></i>&nbsp; Edit</button>
      
        </div>

        <div class="list row" ng-show="editForm === 1">
       <label class = "item item-input uppercase col">

        Username:</label> 

        <div class="input-label col col-50">
            <input class="form-control" type="text" ng-model="userEdit.username" value="{{user.username}}">
        </div>

        <button class="button button-small button-clear uppercase" ng-click="editUser(userEdit)"><i class="icon ion-checkmark"></i>&nbsp; Save</button>&nbsp;
        <button class="button button-small button-clear uppercase" ng-click="showEditForm(0)"><i class="icon ion-close"></i>&nbsp; Cancel</button>
    </div>
    
    <!-- first name -->
    <div class=" list row" ng-hide="editForm === 3">
        <label class = " item item-input uppercase col">

          First Name:</label> 

         <div class="input-label col col-50 wf">
            {{user.firstname}}
        </div>

        <button class="button button-small button-edit uppercase" ng-click="showEditForm(3)"><i class="icon ion-edit"></i>&nbsp; Edit</button>
    </div>

    <div class="list row" ng-show="editForm === 3">
        <label class = "item item-input uppercase col">

          First Name: </label>

         <div class="input-label col col-50 col-50">
            <input class="form-control" type="text"  ng-model="userEdit.firstname" value="{{user.firstname}}">
        </div>

        <button class="button button-small button-clear uppercase" ng-click="editFirstname(userEdit)"><i class="icon ion-checkmark"></i>&nbsp; Save</button>&nbsp;
        <button class="button button-small button-clear uppercase" ng-click="showEditForm(0)"><i class="icon ion-close"></i>&nbsp; Cancel</button>
    </div>

    <!-- last name -->
    <div class=" list row" ng-hide="editForm === 4">
        <label class = "item item-input uppercase col">

          Last Name:</label> 

         <div class="input-label col col-50 wf">
            {{user.lastname}}
        </div>

        <button class="button button-small button-edit uppercase" ng-click="showEditForm(4)"><i class="icon ion-edit"></i>&nbsp; Edit</button>
    </div>

    <div class=" list row" ng-show="editForm === 4">
        <label class = "item item-input uppercase col">

          Last Name: </label>

         <div class="input-label col col-50">
            <input  class="form-control" type="text" ng-model="userEdit.lastname" value="{{user.lastname}}">
        </div>

        <button class="button button-small button-clear uppercase" ng-click="editLastname(userEdit)"><i class="icon ion-checkmark"></i>&nbsp; Save</button>&nbsp;
        <button class="button button-small button-clear uppercase" ng-click="showEditForm(0)"><i class="icon ion-close"></i>&nbsp; Cancel</button>
    </div>

    <!-- password -->
    <div class="row" ng-hide="editForm === 2">
        <label class = "item item-input uppercase col">

          Password: </label>

        <div class="col">
        </div>


              <button class="button button-small button-edit uppercase" ng-click="showEditForm(2)"><i class="icon ion-edit"></i>&nbsp; <EM></EM>Edit</button>
    
      
    </div>

    <div ng-show="editForm === 2">
         <label class = "col">Password: </label>
        <form name="passwordForm" ng-submit="changePassword(password)" novalidate>

             <div class="alert alert-dismissable alert-danger" ng-show="errorMessage">
              <button type="button" class="close" ng-click="showErrorMessage(false)">Ã—</button>
              <strong>Incorrect Current Password</strong>
             </div>

             <br>

            <div class="row col-50">
                <label align="right"  class = "col">Current:</label> 

                 <div class="col">
                    <input class="form-control"  type="password" ng-model="password.old_password" required> 
                </div>
            </div>

            <div class="row col-50">
                <label align="right" class = "col">New:</label>
                <div  class="col">
                    <input class="form-control"  type="password" ng-model="password.new_password" required>
                </div>
                 
             </div>

            <div class="row col-50">
                <label align="right" class = "col">Retype New:</label> 

                <div  class="col">
                <input class="form-control"  type="password" ng-model="password.confNew_password" required>

                <br><br>

            <button class="button button-small button-clear uppercase" type="submit" ng-disabled="passwordForm.$invalid || password.new_password !== password.confNew_password"><i class="icon ion-checkmark"></i>&nbsp; Change Password</button>

            <button class="button button-small button-clear uppercase" type="button" ng-click="showEditForm(0)"><i class="icon ion-close"></i>&nbsp; Cancel</button>

            </div>

             </div>

        </form>
    </div>
      </div>
    </div>

</div>



  </ion-content>
</ion-view>
